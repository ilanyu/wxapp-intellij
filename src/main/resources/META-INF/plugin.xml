<idea-plugin>
    <id>com.github.zxj5470.wxapp</id>
    <name>wxapp Support</name>
    <vendor email="zxj5470@foxmail.com" url="http://www.github.com/zxj5470">zxj5470</vendor>

    <depends>com.intellij.modules.lang</depends>
    <depends>com.intellij.modules.xml</depends>
    <depends>com.intellij.css</depends>
    <depends>JavaScript</depends>

    <extensions defaultExtensionNs="com.intellij.css">
        <elementDescriptorProvider
                implementation="com.intellij.psi.css.impl.util.scheme.WxssElementDescriptorProvider"/>
    </extensions>

    <extensions defaultExtensionNs="com.intellij">
        <fileTypeFactory implementation="com.github.zxj5470.wxapp.WxappFileFactory"/>
        <!--<lang.commenter language="wxml"-->

        <!--WXML-->
        <lang.parserDefinition language="wxml" implementationClass="com.github.zxj5470.wxapp.WxmlParserDefinition"/>
        <lang.syntaxHighlighterFactory language="wxml"
                                       implementationClass="com.github.zxj5470.wxapp.highlighter.WxmlSyntaxHighlighterFactory"/>
        <highlightErrorFilter implementation="com.github.zxj5470.wxapp.annotator.WxmlHighlightErrorFilter"/>
        <colorSettingsPage implementation="com.github.zxj5470.wxapp.highlighter.WxmlColorSettingsPage"/>
        <annotator language="wxml"
                   implementationClass="com.github.zxj5470.wxapp.annotator.WxmlHighlightingAnnotator"/>
        <!--<annotator language="JavaScript"-->
        <!--implementationClass="com.github.zxj5470.wxapp.registry.annotator.WxmlInjectJsAnnotator"/>-->
        <completion.contributor language="wxml"
                                implementationClass="com.github.zxj5470.wxapp.editing.WxmlCompletionContributor"/>
        <languageInjector implementation="com.github.zxj5470.wxapp.editing.WxmlInjectJavascript"/>
        <!--<globalInspection implementationClass="com.github.zxj5470.wxapp.registry.annotator.W" displayName="emm"/>-->
        <!--<referenceInjector implementation="com.github.zxj5470.wxapp.registry.navigator.WxmlToJsReferenceInjector"/>-->
        <gotoDeclarationHandler implementation="com.github.zxj5470.wxapp.navigator.WxmlGoToDeclarationProvider"/>
        <gotoDeclarationHandler implementation="com.github.zxj5470.wxapp.navigator.JsGoToDeclarationProvider"/>
        <!--WXSS-->
        <lang.parserDefinition language="wxss" implementationClass="com.github.zxj5470.wxapp.WxssParserDefinition"/>
        <lang.syntaxHighlighterFactory language="wxss"
                                       implementationClass="com.github.zxj5470.wxapp.highlighter.WxssSyntaxHighlighterFactory"/>
        <annotator language="wxss"
                   implementationClass="com.github.zxj5470.wxapp.annotator.WxssHighlightingAnnotator"/>
        <applicationService serviceInterface="com.intellij.psi.css.impl.util.scheme.WxssElementDescriptorFactory2"
                            serviceImplementation="com.intellij.psi.css.impl.util.scheme.WxssElementDescriptorFactory2"/>
        <lang.formatter
                language="wxss"
                implementationClass="com.intellij.psi.css.impl.util.editor.WxssFormattingModelBuilder"/>
        <lang.findUsagesProvider language="wxss"
                                 implementationClass="com.github.zxj5470.wxapp.navigator.WxssFindUsageProvider"/>
    </extensions>

    <project-components>
        <component>
            <implementation-class>com.github.zxj5470.wxapp.WxappProjectComponent</implementation-class>
        </component>
    </project-components>

</idea-plugin>